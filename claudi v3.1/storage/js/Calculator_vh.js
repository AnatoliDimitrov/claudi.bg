// JavaScript Document

// Outside Roller sunblinds
var models = ["C50", "C80", "Z90"];
var colors = [9010, 1013, 7035, 9006, 240, 1007, 5014, 9007, 6005, 3004, 8014];
var colorCode = 0;	//default color
var modelCode = 0; // default model
var totalPrice = 0;
var errMSG = "Зададените размери са извън позволените габарити/площ  на щората."

var vynshniLamelniC50 = 
[
[80,84,87,91,94,98,102,110,113,117,120,125,128,132,135,139,142,144,148,151,156],
[83,87,91,95,99,103,107,116,120,124,128,133,137,141,145,149,153,155,159,163,167],
[86,91,95,100,104,109,113,122,126,131,135,141,146,150,154,159,163,166,171,175,179],
[90,94,99,104,109,114,119,128,133,138,143,149,154,159,164,169,174,177,182,187,192],
[93,98,103,109,114,119,125,135,140,145,151,158,163,168,174,179,184,189,194,199,205],
[96,102,107,113,119,125,130,141,147,152,158,166,172,177,183,189,195,200,205,211,217],
[99,105,111,117,123,130,136,147,153,160,166,174,180,187,193,199,205,211,217,223,229],
[102,108,115,122,129,135,142,153,160,167,173,182,189,196,202,209,216,222,228,235,242],
[105,112,119,126,133,140,148,160,167,174,181,190,197,205,212,219,226,233,240,247,254],
[108,115,123,131,138,146,153,166,173,181,188,198,206,214,221,229,236,244,252,259,267],
[111,119,127,135,143,151,159,172,180,188,196,207,215,223,231,239,247,255,263,271,279],
[114,122,131,139,148,156,165,178,187,195,204,215,224,232,240,249,257,266,275,283,292],
[117,126,135,144,153,162,171,185,193,202,211,223,232,241,250,259,268,277,286,295,304],
[120,129,139,148,157,167,176,191,200,209,219,232,241,250,260,269,278,289,298,307,317],
[123,133,143,153,162,172,182,197,207,217,226,240,249,259,269,279,289,300,310,319,329],
[126,136,147,157,167,178,188,203,214,224,234,248,258,268,279,289,299,311,321,331,342],
[129,140,151,161,172,183,194,209,220,231,242,256,267,278,288,299,310,322,333,344,356],
[132,143,155,166,177,188,199,216,227,238,249,264,275,287,298,309,320,333,345,357,369],
[135,147,159,170,182,193,205,222,234,245,257,272,284,296,307,319,331,342,354,366,378],
[138,151,162,175,187,199,211,228,240,252,264,281,293,305,317,329,341,353,365,377,389],
[142,154,166,179,192,204,217,234,247,259,272,289,301,314,327,339,352,364,377,389,402],
[145,158,170,183,196,209,222,235,248,260,273,286,299,312,325,338,350,363,376,389,402],
[148,161,174,188,201,214,228,241,254,267,281,294,307,320,334,347,360,374,387,400,413],
[151,165,178,192,206,219,233,247,260,274,288,302,315,329,343,356,370,384,397,411,425],
[154,168,182,196,210,225,239,253,267,281,295,309,323,337,351,365,380,394,408,422,436],
[157,172,186,201,215,230,244,259,273,288,302,317,331,346,360,375,389,404,418,433,447],
[161,175,190,205,220,235,250,265,280,294,309,324,339,354,369,384,399,414,429,443,458],
[164,179,194,210,225,240,255,271,286,301,317,332,347,362,378,393,408,424,439,454,470]
];

var vynshniLamelniC80 = 
[
[243,246,250,253,257,260,264,267,271,274,287,290,301,304,308,311,315,318,322,325,329,341,352,356,359,363,366,370,373,384,396,400,403,407,410,414],
[248,252,256,260,264,268,272,276,280,284,298,302,313,317,321,325,329,333,337,341,345,359,370,374,378,382,386,390,394,405,419,423,427,431,435,439],
[252,257,262,266,271,276,280,285,290,294,308,313,325,329,334,339,343,348,353,357,362,376,388,392,397,402,406,411,416,427,442,446,451,455,460,465],
[257,263,268,273,278,283,289,294,299,304,319,324,337,342,347,352,357,363,368,373,378,393,406,411,416,421,426,432,437,449,464,469,475,480,485,490],
[262,268,274,280,285,291,297,303,308,314,330,336,349,354,360,366,372,377,383,389,395,411,423,429,435,441,446,452,458,471,487,493,498,504,510,515],
[267,274,280,286,293,299,305,312,318,324,341,347,361,367,373,380,386,392,398,405,411,428,441,448,454,460,466,473,479,492,509,516,522,528,535,541],
[272,279,286,293,300,307,313,320,327,334,352,359,373,380,386,393,400,407,414,421,427,445,459,466,473,480,487,493,500,514,532,539,546,553,559,566],
[277,285,292,300,307,314,322,329,337,344,363,370,385,392,399,407,414,422,429,436,444,463,477,484,492,499,507,514,521,536,555,562,570,577,584,592],
[282,290,298,306,314,322,330,338,346,354,374,382,397,405,413,420,428,436,444,452,460,480,495,503,511,519,527,535,543,558,577,585,593,601,609,617],
[287,296,304,313,321,330,338,347,355,364,384,393,409,417,426,434,443,451,460,468,477,497,513,521,530,538,547,555,564,579,600,608,617,625,634,642],
[292,301,310,320,329,338,347,356,365,374,395,404,421,430,439,448,457,466,475,484,493,514,531,540,549,558,567,576,585,601,623,632,641,650,659,668],
[297,307,317,326,336,345,355,365,374,384,406,416,432,442,452,461,471,481,490,500,509,532,549,558,568,577,587,597,606,623,645,655,665,674,684,693],
[322,332,342,353,363,373,383,393,403,413,437,447,464,474,485,495,505,515,525,535,546,569,586,596,606,617,627,637,647,664,688,698,708,718,728,738],
[331,342,353,363,374,385,395,406,417,428,452,462,480,491,502,512,523,534,545,555,566,590,608,619,629,640,651,662,672,690,714,725,736,747,757,768],
[336,347,359,370,381,392,404,415,426,437,463,474,492,504,515,526,537,549,560,571,582,608,626,637,648,660,671,682,694,712,737,748,760,771,782,793],
[341,353,365,377,388,400,412,424,436,447,474,485,504,516,528,540,552,563,575,587,599,625,644,656,667,679,691,703,715,734,760,771,783,795,807,819],
[346,358,371,383,396,408,420,433,445,457,484,497,516,529,541,553,566,578,590,603,615,642,662,674,686,699,711,724,736,755,782,795,807,819,832,844],
[351,364,377,390,403,416,429,442,454,467,495,508,528,541,554,567,580,593,606,619,632,660,679,692,705,718,731,744,757,777,805,818,831,844,857,870],
[356,369,383,396,410,423,437,450,464,477,506,520,540,554,567,581,594,608,621,635,648,677,697,711,724,738,751,765,778,799,828,841,855,868,881,895],
[361,375,389,403,417,431,445,459,473,487,517,531,552,566,580,594,608,622,636,650,664,694,715,729,743,757,771,785,799,821,850,864,878,892,906,920],
[366,381,395,410,424,439,453,468,483,497,528,542,564,579,593,608,623,637,652,666,681,711,733,748,762,777,791,806,821,842,873,887,902,917,931,946],
[371,386,401,416,432,447,462,477,492,524,539,554,576,591,606,621,637,652,683,698,714,729,751,766,781,796,812,843,858,880,896,911,926,941,956,971],
[396,411,427,443,458,474,490,506,521,554,569,585,608,623,639,655,671,686,719,734,750,766,789,804,820,836,851,884,899,922,938,954,969,985,1001,1016],
[401,417,433,449,466,482,498,514,531,564,580,596,620,636,652,669,685,701,734,751,767,783,806,823,839,855,871,905,921,944,961,977,993,1009,1025,1042],
[406,422,439,456,473,490,506,523,540,574,591,608,632,649,665,682,699,716,750,767,784,800,824,841,858,875,891,926,942,966,983,1000,1017,1034,1050,1067],
[411,428,445,463,480,497,515,532,549,585,602,619,644,661,678,696,713,730,766,783,800,818,842,859,877,894,912,947,964,988,1006,1023,1040,1058,1075,1093],
[420,438,455,473,491,509,527,545,581,599,617,635,660,678,696,714,750,767,785,803,821,839,864,882,918,936,954,972,990,1015,1033,1050,1086,1104,1122,1140],
[425,443,462,480,498,517,535,554,591,609,628,646,672,690,709,727,764,783,801,819,838,856,882,900,937,956,974,993,1011,1037,1055,1074,1111,1129,1147,1166],
[430,449,468,487,506,525,544,563,601,620,639,658,684,703,722,741,779,798,817,836,855,874,900,919,957,976,995,1014,1033,1059,1078,1097,1135,1154,1173,1192],
[435,454,474,493,513,532,552,572,610,630,649,669,696,715,735,754,793,813,832,852,871,891,918,937,976,996,1015,1035,1054,1081,1100,1120,1159,1178,1198,1217],
[440,460,480,500,520,540,560,580,620,640,660,680,708,728,748,768,808,828,848,868,888,908,935,956,995,1015,1035,1056,1076,1103,1123,1143,1183,1203,1223,1243],
[445,465,486,507,527,548,569,589,630,650,671,692,720,740,761,782,822,843,864,884,905,926,953,974,1015,1035,1056,1077,1097,1125,1146,1166,1207,1228,1248,1269],
[449,471,492,513,534,556,577,598,640,661,682,703,732,753,774,795,837,858,879,900,922,943,971,992,1034,1055,1076,1098,1119,1147,1168,1190,1231,1252,1274,1295],
[455,476,498,520,542,563,585,607,649,671,693,715,744,765,787,809,851,873,895,917,938,960,989,1011,1053,1075,1097,1119,1140,1169,1191,1213,1255,1277,1299,1320],
[459,482,504,526,549,571,594,616,659,681,704,726,756,778,800,823,866,888,911,933,955,978,1007,1029,1072,1095,1117,1140,1162,1191,1214,1236,1279,1302,1324,1346],
[464,487,510,533,556,579,602,625,669,692,715,738,768,790,813,836,880,903,926,949,972,995,1025,1048,1092,1115,1138,1161,1183,1213,1236,1259,1303,1326,1349,1372]
];

var vynshniLamelniZ90 = 
[
[254,257,261,265,269,272,276,280,284,287,301,304,315,319,323,327,330,334,338,341,345,358,369,373,377,381,384,388,392,403,416,420,424,427,431,435],
[259,263,268,272,276,281,285,289,294,298,312,317,328,332,337,341,345,350,354,358,363,377,388,393,397,401,406,410,414,426,440,444,449,453,457,462],
[264,269,274,279,284,289,294,299,304,309,324,329,341,346,351,356,360,365,370,375,380,395,407,412,417,422,427,432,437,449,464,469,474,479,484,489],
[270,275,281,286,292,297,303,308,314,319,335,341,354,359,365,370,376,381,387,392,398,414,426,432,437,443,448,454,459,472,488,494,499,505,510,516],
[275,281,287,293,299,305,311,318,324,330,347,353,366,372,378,385,391,397,403,409,415,432,445,451,458,464,470,476,482,495,512,519,525,531,537,543],
[280,287,294,300,307,314,320,327,334,340,358,365,379,386,392,399,406,412,419,426,432,451,464,471,478,485,491,498,505,518,536,543,550,557,563,570],
[285,293,300,307,315,322,329,336,344,351,370,377,392,399,406,414,421,428,435,443,450,469,483,491,498,505,513,520,527,542,561,568,575,582,590,597],
[291,299,306,314,322,330,338,346,354,362,382,389,404,412,420,428,436,444,452,460,467,487,502,510,518,526,534,542,550,565,585,593,600,608,616,624],
[296,305,313,321,330,338,347,355,364,372,393,402,417,426,434,443,451,459,468,476,485,506,521,530,538,547,555,564,572,588,609,617,626,634,643,651],
[301,310,319,328,338,347,356,365,374,383,405,414,430,439,448,457,466,475,484,493,502,524,540,549,559,568,577,586,595,611,633,642,651,660,669,678],
[307,316,326,336,345,355,364,374,384,393,416,426,443,452,462,472,481,491,500,510,520,543,559,569,579,588,598,608,617,634,657,667,676,686,695,705],
[312,322,332,343,353,363,373,383,394,404,428,438,455,466,476,486,496,507,517,527,537,561,578,589,599,609,619,630,640,657,681,691,701,712,722,732],
[337,348,359,369,380,391,402,413,423,434,459,470,488,499,510,520,531,542,553,564,574,599,617,628,639,650,660,671,682,700,725,736,746,757,768,779],
[347,358,369,381,392,404,415,426,438,449,475,486,505,516,528,539,551,562,573,585,596,622,640,652,663,675,686,698,709,728,753,765,776,787,799,810],
[352,364,376,388,400,412,424,436,448,460,487,499,518,530,542,554,566,578,590,602,614,640,660,671,683,695,707,719,731,751,777,789,801,813,825,837],
[357,370,382,395,408,420,433,445,458,470,498,511,530,543,556,568,581,593,606,619,631,659,679,691,704,716,729,741,754,774,801,814,827,839,852,864],
[363,376,389,402,415,428,442,455,468,481,510,523,543,556,570,583,596,609,622,635,649,677,698,711,724,737,750,763,776,797,826,839,852,865,878,891],
[368,382,395,409,423,437,450,464,478,492,521,535,556,570,583,597,611,625,638,652,666,696,716,730,744,758,772,785,799,820,850,863,877,891,905,918],
[373,387,402,416,430,445,459,474,488,502,533,547,569,583,597,612,626,640,655,669,683,714,736,750,764,779,793,807,822,843,874,888,902,917,931,945],
[378,393,408,423,438,453,468,483,498,513,544,559,581,596,611,626,641,656,671,686,701,732,755,769,784,799,814,829,844,866,898,913,928,943,958,972],
[384,399,415,430,446,461,477,492,508,523,556,571,594,610,625,641,656,672,687,703,718,751,774,789,805,820,836,851,867,889,922,937,953,968,984,999],
[389,405,421,437,453,470,486,502,518,551,568,584,607,623,639,655,671,687,721,737,753,769,793,809,825,841,857,890,907,930,946,962,978,994,1010,1027],
[414,431,447,464,481,498,514,531,548,582,599,615,639,656,673,689,706,723,757,774,791,807,831,848,865,881,898,932,949,973,990,1006,1023,1040,1057,1073],
[419,437,454,471,488,506,523,540,558,593,610,628,652,669,687,704,721,739,774,791,809,826,850,868,885,902,919,955,972,997,1014,1031,1048,1066,1083,1100],
[425,442,460,478,496,514,532,550,568,604,622,640,665,683,701,718,736,754,791,808,826,844,869,887,905,923,941,977,995,1020,1038,1056,1074,1092,1109,1127],
[430,448,467,485,504,522,541,559,578,615,633,652,678,696,714,733,751,770,807,826,844,863,888,907,925,944,962,999,1018,1044,1062,1080,1099,1117,1136,1154],
[440,459,478,497,516,535,554,573,611,630,649,668,695,714,733,752,790,809,828,847,866,885,912,931,969,988,1007,1026,1045,1071,1090,1110,1148,1167,1186,1205],
[445,465,484,504,523,543,563,582,622,641,661,681,707,727,747,766,806,825,845,865,884,904,931,950,990,1009,1029,1048,1068,1095,1115,1134,1173,1193,1213,1232],
[450,470,491,511,531,551,572,592,632,652,672,693,720,740,761,781,821,841,861,882,902,922,950,970,1010,1030,1051,1071,1091,1118,1139,1159,1199,1219,1240,1260],
[455,476,497,518,539,560,580,601,642,663,684,705,733,754,774,795,837,857,878,899,920,941,969,989,1031,1051,1072,1093,1114,1142,1163,1184,1225,1246,1266,1287],
[461,482,504,525,546,568,589,611,653,674,696,717,746,767,788,810,852,873,895,916,938,959,988,1009,1051,1073,1094,1115,1137,1165,1187,1208,1250,1272,1293,1315],
[466,488,510,532,554,576,598,620,663,685,707,729,758,780,802,824,867,889,911,933,955,977,1007,1029,1072,1094,1116,1138,1160,1189,1211,1233,1276,1298,1320,1342],
[471,494,517,539,562,584,607,629,674,696,719,741,771,794,816,839,883,905,928,951,973,996,1026,1048,1092,1115,1137,1160,1183,1212,1235,1258,1302,1324,1347,1369],
[477,500,523,546,569,593,616,639,684,707,730,753,784,807,830,853,898,922,945,968,991,1014,1045,1068,1113,1136,1159,1182,1206,1236,1259,1282,1327,1350,1374,1397],
[482,506,529,553,577,601,625,648,694,718,742,766,797,820,844,868,914,938,961,985,1009,1033,1064,1087,1133,1157,1181,1205,1228,1259,1283,1307,1353,1377,1400,1424],
[487,512,536,560,585,609,633,658,705,729,753,778,809,834,858,882,929,954,978,1002,1027,1051,1083,1107,1154,1178,1203,1227,1251,1283,1307,1332,1379,1403,1427,1452]
];

function printOption(option)
{
	for (var i = 0; i < option.length; i++)
	{
		document.write("<option value=" + 'option[i]' + ">"  + option[i] + "</option>");
	}
}

//Receving Info from dropdown menu
function getColor(color)
{
	colorCode = color.selectedIndex;
}
	
function getModel(model)
{
	modelCode = model.selectedIndex;
}

function findPrize(arg)
{
	var local = Math.round(Math.ceil(arg)/10);
	
	//local = local / 10;
	local = local - 5;
	
	if(local < 0)
	{
		local = 0;
	}
	
	return local;
}

function CheckBoundories (model, width, height)
{
	switch(model)
	{
		case 0:
		if(width < 50 || height < 50 || width > 250 || height > 320)
		{
			alert(errMSG);
		}break;
		
		default:
		if(width < 50 || height < 50 || width > 400 || height > 400)
		{
			alert(errMSG);
		}break;
	}
}

function printFinalPrice()
{
	var sizeWidth = document.getElementById("sunblindWidth").value; 
	var sizeHeight = document.getElementById("sunblindHeight").value;
	var decorative = document.getElementById("dekorative").checked;
	//var discount = 6;	//precent discount
	
	CheckBoundories (modelCode, sizeWidth, sizeHeight);
	

	sizeWidth = findPrize(sizeWidth);
	sizeHeight = findPrize(sizeHeight);
	
	switch(modelCode)
	{
		case 0:
		totalPrice = vynshniLamelniC50[sizeHeight][sizeWidth];
		break;
		
		case 1:
		totalPrice = vynshniLamelniC80[sizeHeight][sizeWidth];
		break;
		
		case 2:
		totalPrice = vynshniLamelniZ90[sizeHeight][sizeWidth];
		break;
	}

	if(decorative == 1)
	{
		var w = document.getElementById("sunblindWidth").value;
		totalPrice += (w / 100 )* 54.9;
	}
	
	totalPrice -= totalPrice *  (6 /100);
	
	if (totalPrice == 0)
	{
		alert(errMSG);
	}
	else
	{
	document.getElementById("finalPrice").innerHTML = totalPrice.toFixed(2) + " лв.";
	}
	totalPrice = 0;
	return false;
}