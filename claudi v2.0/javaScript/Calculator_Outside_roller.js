// JavaScript Document

// Outside Roller sunblinds
var models = ["PVC", "AL H-39", "AL H-39R", "AL H-39R2"];
var colors = ["Бял", "Кафяв"];
var colorCode = 0;	//default color
var modelCode = 0; // default model
var totalPrice = 0;
var errMSG = "Зададените размери са извън позволените габарити/площ  на щората."

var alH39 = [
[85,93,100,108,115,123,129,138,144,152,159,167,174,182,190,196,205,211,219,226,234,241,249,255,263,270],
[91,100,108,116,124,132,140,148,156,164,172,180,188,196,205,214,222,230,238,246,254,262,270,278,286,294],
[97,105,115,124,132,142,150,159,168,176,186,195,203,213,221,230,239,247,257,266,274,284,292,301,310,318],
[103,112,121,132,142,151,160,170,179,190,199,209,218,227,237,247,257,266,276,285,294,305,314,324,333,343],
[108,119,129,140,150,160,171,180,191,202,213,222,233,243,253,263,274,285,294,305,316,325,336,347,357,367],
[115,125,136,147,159,170,180,191,203,214,225,237,247,258,269,281,292,302,313,325,336,347,357,369,380,391],
[120,132,144,155,167,179,191,203,214,226,238,250,262,273,285,297,309,321,333,344,356,368,380,392,403,415],
[125,139,151,163,176,191,201,214,226,238,251,267,277,289,301,314,326,339,352,364,376,389,402,415,427,439],
[132,144,158,171,184,198,211,225,238,251,265,278,290,304,317,330,344,357,371,384,397,411,423,436,450,463],
[138,151,166,179,194,207,222,235,249,263,277,292,305,320,333,348,361,376,389,403,418,431,446,459,474,487],
[143,158,172,187,202,217,231,246,261,276,290,305,320,335,349,364,379,393,408,423,438,452,467,482,497,511],
[148,164,180,195,211,226,242,257,273,288,304,318,335,351,365,381,396,412,427,443,458,474,490,505,521,536],
[163,179,196,213,230,246,263,281,297,314,330,348,364,381,397,415,431,448,464,482,499,515,533,549,566,582],
[168,186,203,221,238,255,274,292,309,326,344,361,370,396,414,431,448,467,485,502,519,537,554,572,589,607],
[174,192,211,229,247,266,284,302,320,339,357,375,393,412,430,448,467,485,503,521,540,558,576,594,613,631],
[180,199,218,237,255,276,294,313,332,351,369,389,408,427,446,464,485,503,522,541,560,578,598,617,636,655],
[186,205,225,245,265,284,304,324,344,363,383,403,422,442,462,482,501,521,541,561,580,600,620,640, 0 , 0],
[191,211,233,253,273,293,314,335,355,375,396,416,436,458,478,498,518,540,560,580,601,621,641, 0,  0,  0],
[196,218,239,261,282,302,324,345,367,388,410,430,451,473,494,515,537,557,578,600,621,643, 0 , 0,  0,  0],
[203,225,246,269,290,312,335,356,379,400,422,444,466,487,510,531,554,576,597,620,641, 0 , 0 , 0,  0,  0],
[209,231,254,277,300,321,344,367,389,412,435,458,481,503,526,549,572,594,616,639, 0 , 0 , 0,  0,  0,  0],
[219,243,266,290,314,339,361,385,410,434,456,481,505,529,553,576,600,624,648, 0 , 0 , 0,  0,  0,  0,  0],
[225,249,274,298,322,348,372,396,422,446,470,495,519,544,569,593,617,641, 0 , 0 , 0,  0,  0,  0,  0,  0],
[230,255,281,306,332,357,383,407,432,458,483,509,534,560,584,609,635, 0 , 0 , 0,  0,  0,  0 , 0,  0,  0],
[237,262,289,314,340,367,392,419,444,470,497,522,549,574,600,627, 0 , 0 , 0,  0,  0,  0 , 0,  0,  0,  0],
[242,269,296,322,349,376,403,430,456,483,510,537,564,589,616,643, 0 , 0 , 0,  0,  0,  0 , 0 , 0,  0,  0]
];

var alH39r = [
[73,79,85,91,97,102,108,114,120,126,131,137,143,149,155,161,167,172,178,184,190,196,202,207,213,219],
[77,84,90,97,103,109,116,122,129,135,141,148,154,160,167,173,180,186,192,199,205,212,218,224,231,237],
[82,89,96,103,109,116,123,130,137,144,151,158,165,172,179,186,193,200,207,213,220,227,234,241,248,255],
[86,94,101,108,116,123,131,138,146,153,161,168,176,183,191,198,206,213,221,228,236,243,251,258,266,273],
[90,98,106,114,122,130,139,147,155,163,171,179,187,195,203,211,219,227,235,243,251,259,267,275,283,291],
[95,103,112,120,129,138,146,155,163,172,180,189,198,206,215,223,232,240,249,258,266,275,283,292,300,309],
[99,108,117,126,135,145,154,163,172,181,190,199,208,218,227,236,245,254,263,272,281,291,300,309,318,327],
[103,113,123,132,142,152,161,171,181,190,200,210,219,229,239,248,258,268,277,287,297,306,316,326,335,345],
[108,118,128,138,148,159,169,179,189,199,210,220,230,240,251,261,271,281,291,302,312,322,332,343,353,363],
[112,123,133,144,155,166,176,186,198,209,219,230,241,252,263,273,284,295,306,316,327,338,349,359,370,381],
[116,127,139,150,161,173,184,195,207,218,229,241,252,263,275,286,297,308,320,331,342,354,365,376,388,399],
[120,132,144,156,168,180,192,203,215,227,239,251,263,275,286,298,310,322,334,346,358,370,381,393,405,417],
[125,137,149,162,174,187,199,212,224,236,249,261,274,286,298,311,323,336,348,360,373,385,398,410,423,435],
[129,142,155,168,181,194,207,220,233,246,259,272,284,297,310,323,336,349,362,375,388,401,414,427,440,453],
[133,147,160,174,187,201,214,228,241,255,268,282,295,309,322,336,349,363,376,390,403,417,430,444,457,471],
[138,152,166,180,194,208,222,236,250,264,278,292,306,320,334,348,362,376,391,405,419,433,447,461,475,489],
[150,165,180,195,211,226,241,256,271,286,301,317,332,347,362,377,392,407,423,438,453,468,483,498, 0, 0],
[154,170,186,201,217,233,248,264,280,295,311,327,343,358,374,390,405,421,437,452,468,484,499, 0, 0, 0],
[159,175,191,207,224,240,256,272,288,305,321,337,353,370,386,402,418,435,451,467,483,500, 0, 0, 0, 0],
[163,180,196,213,230,247,264,280,297,314,331,347,364,381,398,415,431,448,465,482,499, 0, 0, 0, 0, 0],
[167,185,202,219,237,254,271,288,306,323,340,358,375,392,410,427,444,462,479,496, 0, 0, 0, 0, 0, 0],
[172,189,207,225,243,261,279,297,315,332,350,368,386,404,422,440,458,475,493, 0, 0, 0, 0, 0, 0, 0],
[176,194,213,231,250,268,286,305,323,342,360,378,397,415,434,452,471,489, 0, 0, 0, 0, 0, 0, 0, 0],
[180,199,218,237,256,275,294,313,332,351,370,389,408,427,446,465,484, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[184,204,223,243,262,282,302,321,341,360,380,399,419,438,458,477, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[189,209,229,249,269,289,309,329,349,369,389,409,430,450,470,490, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],	
];

var alH39r2 = [
[120,130,141,151,161,171,181,192,202,212,222,232,243,253,263,273,284,294,304,314,324,335,345,355,365,376],
[125,135,146,157,168,178,189,200,211,222,232,243,254,265,275,286,297,308,319,329,340,351,362,373,383,394],
[129,140,152,163,174,186,197,208,220,231,242,254,265,276,288,299,311,322,333,345,356,367,379,390,410,413],
[133,145,157,169,181,193,205,217,229,241,253,264,276,288,300,312,324,336,348,360,372,384,395,407,401,431],
[138,150,163,175,188,200,213,225,238,250,263,275,288,300,313,325,337,350,362,375,387,400,412,425,437,450],
[142,155,168,181,194,207,220,234,247,260,273,286,299,312,325,338,351,364,377,390,403,416,429,442,455,468],
[147,160,174,187,201,215,228,242,256,269,283,296,310,324,337,351,364,378,392,405,419,432,446,460,473,487],
[151,165,179,194,208,222,236,250,264,279,293,307,321,335,350,364,378,392,406,420,435,449,463,477,491,505],
[156,170,185,200,214,229,244,259,273,288,303,318,332,347,362,377,391,406,421,436,450,465,480,495,509,524],
[160,175,191,206,221,236,252,267,282,298,313,328,344,359,374,390,405,420,435,451,466,481,497,512,527,543],
[164,180,196,212,228,244,260,275,291,307,323,339,355,371,387,402,418,434,450,466,482,498,514,529,545,561],
[169,185,202,218,235,251,267,284,300,317,333,350,366,382,399,415,432,448,465,481,498,614,530,547,563,580],
[173,190,207,224,241,258,275,292,309,326,343,360,377,394,411,428,445,462,479,496,513,530,547,564,581,598],
[178,195,213,230,248,266,283,301,318,336,353,371,388,406,424,441,459,476,494,511,529,547,564,582,599,617],
[182,200,218,237,255,273,291,309,327,345,363,382,400,418,436,454,472,490,508,527,545,563,581,599,617,635],
[187,205,224,243,261,280,299,317,336,355,374,392,411,430,448,467,486,504,523,542,560,579,598,617,635,654],
[211,232,253,274,295,315,336,357,378,399,420,441,462,483,504,525,546,567,588,608,629,650,671,692, 0 , 0],
[215,237,258,280,301,323,344,366,387,409,430,452,473,495,516,538,559,581,602,624,645,667,688, 0 , 0 , 0],
[220,242,264,286,308,330,352,374,396,418,440,462,484,506,528,551,573,595,617,639,661,683, 0, 0, 0, 0],
[224,247,269,292,315,337,360,382,405,428,450,473,496,518,541,563,586,609,631,654,677, 0, 0, 0, 0, 0],
[229,252,275,298,321,344,368,391,414,437,460,484,507,530,553,576,600,623,646,669, 0, 0, 0, 0, 0, 0],
[233,257,280,304,328,352,375,399,423,447,470,494,518,542,566,589,613,637,661, 0, 0, 0, 0, 0, 0, 0],
[237,262,286,310,335,359,383,408,432,456,481,505,529,554,578,602,626,651, 0, 0, 0, 0, 0, 0, 0, 0],
[242,267,292,316,341,366,391,416,441,466,491,516,540,565,590,615,640, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[246,272,297,323,348,373,399,424,450,475,501,526,552,577,603,628, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[251,277,303,329,355,381,407,433,459,485,511,537,563,589,615,641, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];

var pvcOutsideRoller = [
[77,84,89,95,101,107,113,119,125,131,136,143,148,155,160,167,172,178,184,190],
[81,88,93,100,107,112,119,125,131,138,144,150,156,163,168,175,182,187,194,201],
[85,92,97,104,111,117,124,131,138,144,151,158,164,170,176,183,190,196,203,210],
[88,96,111,109,116,123,129,136,144,151,158,164,171,178,184,192,199,206,213,219],
[92,100,107,113,121,128,135,143,150,158,164,171,179,186,194,201,207,215,222,230],
[96,104,111,119,125,134,142,148,156,164,171,179,186,194,202,209,217,225,231,239],
[100,108,115,123,131,139,147,155,163,170,178,186,194,202,210,218,226,233,241,249],
[103,111,120,128,136,144,152,160,168,176,184,194,202,210,218,226,234,242,250,258],
[107,115,124,132,142,150,158,167,175,183,192,201,209,218,226,234,243,251,259,269],
[111,119,128,138,146,155,163,172,182,190,199,207,217,226,234,243,251,261, 0, 0],
[115,123,132,142,151,160,170,178,187,196,206,215,225,233,242,251,261, 0, 0, 0],
[117,127,138,147,156,166,175,184,194,203,213,222,231,241,250,259, 0 , 0, 0, 0],
[129,140,151,160,171,182,192,202,213,223,234,243,254,265, 0, 0, 0, 0, 0, 0],
[134,144,155,166,176,187,198,209,219,230,241,251,262, 0, 0, 0, 0, 0, 0, 0],
[138,148,159,170,182,192,203,214,225,237,247,258, 0, 0, 0, 0, 0, 0, 0, 0],
[140,152,163,175,186,198,209,221,231,243,254,266, 0, 0, 0, 0, 0, 0, 0, 0],
[144,156,167,179,191,202,214,226,238,249,261, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[148,160,172,183,195,207,219,231,243,255,268, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[151,164,176,188,201,213,226,238,250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],			
[155,168,180,192,206,218,231,243,257, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],			
[159,172,184,198,211,223,237,250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]			
];


function printOption(option)
{
	for (var i = 0; i < option.length; i++)
	{
		document.write("<option value=" + 'option[i]' + ">"  + option[i] + "</option>");
	}
}

//Receving Info from dropdown menu
function getColor(color)
{
	colorCode = color.selectedIndex;
}
	
function getModel(model)
{
	modelCode = model.selectedIndex;
}

function findPrize(arg)
{
	var local = Math.round(Math.ceil(arg)/10);
	
	//local = local / 10;
	local = local - 5;
	
	if(local < 0)
	{
		local = 0;
	}
	
	return local;
}

function CheckBoundories (model, width, height)
{
	switch(model)
	{
		case 0:
		if(width < 30 || height < 30 || width > 250 || height > 250)
		{
			alert(errMSG);
		}break;
		
		default:
		if(width < 30 || height < 30 || width > 300 || height > 300)
		{
			alert(errMSG);
		}break;
	}
}

function printFinalPrice()
{
	var sizeWidth = document.getElementById("sunblindWidth").value; 
	var sizeHeight = document.getElementById("sunblindHeight").value;
	//var discount = 6;	//precent discount
	
	CheckBoundories (modelCode, sizeWidth, sizeHeight);
	
	sizeWidth = findPrize(sizeWidth);
	sizeHeight = findPrize(sizeHeight);
	
	switch(modelCode)
	{
		case 0:
		totalPrice = pvcOutsideRoller[sizeHeight][sizeWidth];
		break;
		
		case 1:
		totalPrice = alH39[sizeHeight][sizeWidth];
		break;
		
		case 2:
		totalPrice = alH39r[sizeHeight][sizeWidth];
		break;
		
		case 3:
		totalPrice = alH39r2[sizeHeight][sizeWidth];
		break;
	}
	
	if(modelCode >= 2)
	{
		totalPrice -= totalPrice *  (6 /100);
	}
	else
	{
		totalPrice -= totalPrice *  (30 /100);
	}
	
	if (totalPrice == 0)
	{
		alert(errMSG);
	}
	else
	{
	document.getElementById("finalPrice").innerHTML = totalPrice.toFixed(2) + " лв.";
	}
	totalPrice = 0;
	return false;
}