// JavaScript Document

// Outside Roller sunblinds
var models = ["C50", "C80", "Z90"];
var colors = [9010, 1013, 7035, 9006, 240, 1007, 5014, 9007, 6005, 3004, 8014];
var colorCode = 0;	//default color
var modelCode = 0; // default model
var totalPrice = 0;
var errMSG = "Зададените размери са извън позволените габарити/площ  на щората."

var vynshniLamelniC50 = 
[
[80,84,88,91,95,98,102,110,113,117,120,125,128,132,136,139,143,144,148,151,156],
[84,88,92,96,99,103,108,116,120,124,128,133,137,141,145,149,153,155,159,163,167],
[87,91,96,100,104,109,113,122,127,131,136,141,146,150,155,159,164,167,171,175,180],
[90,95,100,104,109,114,119,129,133,138,143,150,155,159,164,169,174,178,183,188,192],
[93,98,103,109,114,120,125,135,140,146,151,158,163,169,174,179,185,189,194,200,205],
[96,102,107,113,119,125,131,141,147,153,158,166,172,178,183,189,195,200,206,212,217],
[99,105,111,118,124,130,136,147,154,160,166,174,181,187,193,199,206,211,217,224,230],
[102,109,115,122,129,135,142,154,160,167,174,183,189,196,203,209,216,222,229,236,242],
[105,112,119,127,134,141,148,160,167,174,181,191,198,205,212,219,227,233,241,248,255],
[108,116,123,131,138,146,154,166,174,181,189,199,207,214,222,229,237,245,252,260,267],
[111,119,127,135,143,151,159,172,180,188,197,207,215,223,231,240,248,256,264,272,280],
[114,123,131,140,148,157,165,179,187,196,204,216,224,232,241,249,258,267,275,284,292],
[117,126,135,144,153,162,171,185,194,203,212,224,233,242,251,260,269,278,287,296,305],
[120,130,139,148,158,167,177,191,200,210,219,232,241,251,260,270,279,289,299,308,317],
[123,133,143,153,163,173,182,197,207,217,227,240,250,260,270,280,289,300,310,320,330],
[126,137,147,157,168,178,188,204,214,224,235,248,259,269,279,290,300,312,322,332,342],
[130,140,151,162,172,183,194,210,221,231,242,257,267,278,289,300,310,323,333,345,356],
[132,144,155,166,177,189,200,216,227,239,250,265,276,287,298,310,321,334,345,358,370],
[136,147,159,171,182,194,206,223,234,246,257,273,285,296,308,320,331,343,355,367,378],
[139,151,163,175,187,199,211,229,241,253,265,281,293,305,318,330,342,354,366,378,390],
[142,154,167,179,192,205,217,235,248,260,273,290,302,315,327,340,352,365,378,390,403],
[145,158,171,184,197,209,222,235,248,261,274,287,300,313,325,338,351,364,377,390,403],
[148,161,175,188,201,215,228,241,255,268,281,295,308,321,335,348,361,374,388,401,414],
[151,165,179,193,206,220,234,247,261,275,288,302,316,330,343,357,371,384,398,412,426],
[155,169,183,197,211,225,239,253,267,282,296,310,324,338,352,366,380,395,409,423,437],
[158,172,187,201,216,230,245,259,274,288,303,317,332,346,361,375,390,405,419,434,448],
[161,176,191,206,220,235,250,265,280,295,310,325,340,355,370,385,400,415,429,444,459],
[164,179,194,210,225,241,256,271,287,302,317,333,348,363,379,394,409,425,440,455,471]
];

var vynshniLamelniC80 = 
[
[215,219,224,228,232,237,241,245,250,254,269,274,280,284,289,293,297,302,306,310,315,330,336,340,345,349,353,358,362,368,384,388,392,397,401,405],
[221,226,231,236,241,246,251,256,261,266,283,288,295,300,305,310,315,320,325,330,335,351,358,363,368,373,378,383,388,395,412,417,422,427,432,437],
[227,233,239,244,250,256,261,267,273,279,296,302,309,315,321,327,332,338,344,349,355,373,380,386,392,397,403,409,414,422,440,445,451,457,462,468],
[233,240,246,253,259,265,272,278,285,291,310,316,324,331,337,343,350,356,363,369,375,394,402,409,415,421,428,434,441,449,467,474,480,487,493,499],
[240,247,254,261,268,275,282,289,296,303,323,330,339,346,353,360,367,374,381,389,396,415,424,431,438,445,453,460,467,476,495,503,510,517,524,531],
[246,253,261,269,277,285,292,300,308,316,336,344,354,362,369,377,385,393,400,408,416,437,446,545,462,470,477,485,493,502,523,531,539,547,554,562],
[252,260,269,277,286,294,302,311,319,328,350,358,369,377,385,394,402,411,419,428,436,458,468,477,485,494,502,511,519,529,551,560,568,577,585,593],
[258,267,276,285,294,304,313,322,331,340,363,372,383,392,402,411,420,429,438,447,456,479,490,499,509,518,527,536,545,556,579,588,597,607,616,625],
[264,274,284,294,303,313,323,333,343,352,377,386,398,408,418,427,437,447,457,467,477,501,512,522,532,542,552,561,571,583,607,617,627,637,646,656],
[270,281,291,302,312,323,333,344,354,365,390,401,413,423,434,444,455,465,476,486,497,522,534,545,555,566,576,587,597,610,635,646,656,667,677,687],
[276,288,299,310,321,332,343,355,366,377,404,415,428,439,450,461,472,483,495,506,517,543,556,568,579,590,601,612,623,636,663,674,685,696,708,719],
[283,294,306,318,330,342,354,365,377,389,417,429,442,454,466,478,490,502,514,525,537,565,579,590,602,614,626,638,650,663,691,703,715,727,738,750],
[289,301,314,326,339,351,364,376,389,402,430,443,457,470,482,495,507,520,532,545,557,586,601,613,626,638,651,663,676,690,719,731,744,756,769,782],
[300,313,326,340,353,366,379,392,406,419,449,462,477,490,503,517,530,543,556,569,583,613,628,641,654,667,681,694,707,722,752,765,778,792,805,818],
[306,320,334,348,362,376,389,403,417,431,462,476,492,506,520,433,547,561,575,589,603,634,650,664,677,691,705,719,733,749,780,794,808,821,835,849],
[312,327,341,356,371,385,400,414,429,443,476,490,507,521,536,550,565,579,594,609,326,655,672,686,701,715,730,745,759,776,808,822,837,852,866,881],
[318,334,349,364,379,395,410,425,440,456,489,504,521,537,552,567,582,598,613,628,643,677,694,709,724,740,755,770,785,802,836,851,866,881,897,912],
[324,340,356,372,388,404,420,436,452,468,502,518,536,552,568,584,600,616,632,648,664,698,716,732,748,764,780,796,812,829,864,880,895,911,927,943],
[331,347,364,380,397,414,430,447,464,480,516,532,551,568,584,601,617,634,651,667,684,719,738,754,771,788,804,821,838,856,891,908,925,941,958,975],
[337,354,371,389,406,423,441,458,475,493,529,547,566,583,600,618,635,652,670,687,704,741,760,777,794,812,829,846,864,883,919,937,954,971,989,1006],
[343,361,379,397,415,433,451,469,487,505,543,561,580,598,616,634,652,670,688,706,724,762,782,800,818,836,854,872,890,910,947,965,983,1001,1019,1037],
[349,368,386,405,424,442,461,480,498,537,556,575,595,614,633,651,670,689,727,746,765,783,804,823,841,860,879,917,936,957,975,994,1013,1031,1050,1069],
[355,375,394,413,433,452,471,491,510,550,569,589,610,629,649,668,687,707,747,766,785,805,826,845,865,884,903,943,963,984,1003,1023,1042,1061,1081,1100],
[361,381,401,421,442,462,482,502,522,563,583,603,625,645,665,685,705,725,766,786,806,826,848,868,888,908,928,969,989,1011,1031,1051,1071,1091,1111,1131],
[367,388,409,430,450,471,492,513,533,575,596,617,639,660,681,702,722,743,785,806,827,847,870,891,911,932,953,995,1016,1038,1059,1080,1101,1121,1142,1163],
[374,395,416,438,459,481,502,523,545,588,610,631,654,676,697,719,740,761,805,826,847,869,892,913,935,956,978,1021,1042,1066,1087,1108,1130,1151,1173,1194],
[385,407,429,451,473,495,517,540,584,606,628,650,674,696,718,740,785,807,829,851,873,895,919,941,986,1008,1030,1052,1074,1098,1120,1142,1187,1209,1231,1253],
[391,414,437,459,482,505,528,550,596,619,641,664,689,712,734,757,803,825,848,871,894,917,841,964,1009,1032,1055,1078,1101,1125,1148,1171,1216,1239,1262,1285],
[397,421,444,467,491,514,538,561,608,631,655,678,704,727,751,774,821,844,868,891,915,938,963,987,1033,1057,1080,1104,1127,1152,1176,1199,1246,1269,1293,1316],
[403,427,451,476,500,524,548,572,620,644,668,692,718,743,767,791,839,863,887,611,935,959,985,1009,1057,1081,1105,1130,1154,1180,1204,1228,1276,1300,1324,1348],
[409,434,459,484,509,534,558,583,632,657,682,707,733,758,783,808,857,881,906,631,956,981,1007,1032,1081,1106,1131,1155,1180,1207,1232,1257,1305,1330,1355,1380],
[416,441,467,492,518,543,569,594,644,670,695,721,748,773,799,825,874,900,925,951,977,1002,1029,1055,1105,1130,1156,1181,1207,1234,1260,1285,1335,1361,1386,1412],
[422,448,474,500,526,553,579,605,656,682,708,735,763,789,815,841,892,919,945,971,997,1023,1051,1078,1129,1155,1181,1207,1233,1261,1288,1314,1365,1391,1417,1443],
[428,455,482,508,535,562,589,616,668,695,722,749,777,804,831,858,910,937,964,991,1018,1045,1073,1100,1152,1179,1206,1233,1260,1289,1316,1342,1395,1422,1448,1475],
[424,462,489,517,544,572,599,627,680,708,735,763,792,820,847,875,928,956,983,1011,1039,1066,1095,1123,1176,1204,1231,1259,1287,1316,1344,1371,1424,1452,1479,1507],
[440,468,497,525,553,581,610,638,692,720,749,777,807,835,864,892,946,974,1003,1031,1059,1087,1117,1146,1200,1228,1257,1285,1313,1343,1371,1400,1454,1482,1511,1539]
];

var vynshniLamelniZ90 = 
[
[233,238,243,247,252,257,261,266,271,275,292,297,304,308,313,318,322,327,332,336,341,358,364,369,374,379,383,388,393,399,416,421,426,430,435,440],
[240,245,251,256,262,267,272,278,283,289,307,312,320,325,330,336,341,347,352,358,363,381,388,394,399,405,410,416,421,428,466,452,457,463,468,474],
[246,253,259,265,271,277,284,290,296,302,321,327,336,342,348,354,360,367,373,379,385,404,412,419,425,431,437,443,449,458,477,483,489,495,501,508],
[253,260,267,274,281,288,295,302,309,315,336,343,352,359,365,372,379,386,393,400,407,427,436,443,450,457,464,471,478,487,507,514,521,528,535,542],
[260,267,275,283,290,298,306,314,321,329,350,358,368,375,383,391,398,406,414,421,429,451,460,468,475,483,491,498,506,516,537,545,553,560,568,576],
[266,275,283,292,300,309,317,325,334,342,365,373,384,392,400,409,417,426,434,443,451,474,484,492,501,509,518,526,534,545,568,576,584,593,601,610],
[273,282,291,301,310,319,328,337,346,356,379,389,400,409,418,427,436,445,455,464,473,497,508,517,526,535,544,554,563,574,598,607,616,625,634,644],
[280,290,300,309,319,329,339,349,359,369,394,404,416,426,435,445,455,465,475,485,495,520,532,542,552,561,571,581,591,603,628,638,648,658,668,678],
[286,297,308,318,329,340,350,361,371,382,409,419,432,442,453,464,474,485,495,506,517,543,556,566,577,588,598,609,620,632,658,669,680,690,701,712],
[293,304,316,327,339,350,361,373,384,395,423,434,448,459,470,482,493,505,516,527,539,566,580,591,602,614,625,636,648,661,689,700,711,723,734,746],
[300,312,324,336,348,360,372,385,397,409,438,450,464,476,488,500,512,524,536,549,561,589,604,616,628,640,652,664,676,690,719,731,743,755,767,780],
[306,319,332,345,358,371,384,396,409,422,452,465,480,493,505,518,531,544,557,570,583,613,627,640,653,666,679,692,705,719,749,762,775,788,801,814],
[313,327,340,354,367,381,395,408,422,435,467,480,496,509,523,537,550,564,577,591,605,636,651,665,678,692,706,719,733,748,780,793,807,820,834,848],
[325,340,354,368,383,397,411,426,440,454,487,501,517,532,546,560,575,589,603,618,632,664,681,695,709,724,738,752,767,783,815,830,844,858,873,887],
[332,347,362,377,392,407,422,437,452,468,501,516,533,548,563,579,594,609,624,639,654,688,705,720,735,750,765,780,795,812,846,861,876,891,906,921],
[339,354,370,386,402,418,433,449,465,481,516,532,549,565,581,597,613,628,644,660,676,711,728,744,760,776,792,808,823,841,876,892,908,923,939,955],
[345,362,378,395,411,428,445,461,478,494,530,547,565,582,598,615,632,648,665,681,698,734,752,769,785,802,819,835,852,870,906,923,939,956,972,989],
[352,369,386,404,421,438,456,473,490,508,545,562,581,599,616,633,651,668,685,703,720,757,776,794,811,828,845,863,880,899,937,954,971,988,1006,1023],
[359,377,395,413,431,449,467,485,503,521,559,577,597,615,633,652,670,688,706,724,742,780,800,818,836,854,872,890,908,928,967,985,1003,1021,1039,1057],
[365,384,403,422,440,459,478,497,515,534,574,593,613,632,651,670,688,707,726,745,764,803,824,843,862,880,899,918,937,957,997,1016,1035,1053,1072,1091],
[372,391,411,430,450,470,489,508,528,548,588,608,629,649,668,688,708,727,747,766,786,826,848,867,887,907,926,946,965,987,1027,1047,1066,1086,1105,1125],
[378,399,419,439,460,480,500,520,541,583,603,623,645,666,686,706,727,747,789,809,829,850,872,892,912,933,953,995,105,1037,1058,1078,1098,1119,1139,1159],
[385,406,427,448,469,490,511,532,553,597,618,639,661,682,703,724,745,766,810,831,852,873,896,917,938,959,980,1023,1044,1067,1088,1109,1130,1151,1172,1193],
[392,414,435,457,479,501,522,544,566,610,632,654,678,699,721,743,764,786,831,852,874,896,920,941,963,985,1007,1051,1073,1097,1118,1140,1162,1183,1205,1227],
[399,421,443,466,488,511,533,556,578,624,647,669,693,716,738,761,783,806,852,874,897,919,943,966,988,1011,1033,1079,1102,1126,1149,1171,1194,1216,1239,1261],
[405,428,452,475,498,521,544,568,591,638,661,684,710,733,756,779,802,826,873,896,919,942,967,991,1014,1037,1060,1107,1130,1156,1179,1202,1225,1249,1272,1295],
[417,441,465,489,513,537,561,585,633,657,681,705,731,755,779,803,851,875,899,923,947,971,997,1021,1069,1093,1117,1141,1165,1191,1215,1239,1287,1311,1335,1359],
[424,449,473,498,523,547,572,597,646,671,696,720,747,772,796,821,871,895,920,945,969,994,1021,1045,1095,1119,1144,1169,1194,1220,1245,1270,1319,1344,1368,1393],
[431,456,482,507,532,558,583,609,659,685,710,736,763,788,814,839,890,915,941,966,992,1017,1045,1070,1121,1146,1172,1197,1222,1250,1275,1301,1351,1377,1402,1428],
[437,463,490,516,542,568,594,621,672,699,725,751,779,805,831,858,909,936,962,988,1014,1040,1069,1095,1146,1173,1199,1225,1251,1279,1306,1332,1384,1410,1436,1462],
[444,471,498,525,552,579,606,632,685,712,739,766,795,822,849,876,929,956,983,1010,1037,1063,1092,1119,1172,1199,1226,1253,1280,1309,1336,1363,1416,1443,1470,1497],
[451,478,506,534,561,589,617,644,699,726,754,781,811,839,866,894,948,976,1004,1031,1059,1087,1116,1144,1198,1226,1253,1281,1309,1338,1366,1394,1448,1476,1503,1531],
[457,486,514,543,571,599,628,656,712,740,768,797,827,856,884,912,968,996,1025,1053,1081,1110,1140,1169,1224,1252,1281,1309,1338,1368,1396,1425,1480,1509,1537,1565],
[464,493,522,551,581,610,639,668,725,754,783,812,843,872,901,931,987,1016,1045,1075,1104,1133,1164,1193,1250,1279,1308,1337,1366,1398,1427,1456,1512,1542,1571,1600],
[471,501,530,560,590,620,650,680,738,768,797,827,859,889,919,949,1007,1037,1066,1096,1126,1156,1188,1218,1276,1306,1335,1365,1395,1427,1457,1487,1545,1575,1604,1634],
[477,508,539,569,600,630,661,692,751,781,812,843,875,906,936,967,1026,1057,1087,1118,1149,1179,1212,1243,1302,1332,1363,1393,1424,1457,1487,1518,1577,1608,1638,1669]
];

function printOption(option)
{
	for (var i = 0; i < option.length; i++)
	{
		document.write("<option value=" + 'option[i]' + ">"  + option[i] + "</option>");
	}
}

//Receving Info from dropdown menu
function getColor(color)
{
	colorCode = color.selectedIndex;
}
	
function getModel(model)
{
	modelCode = model.selectedIndex;
}

function findPrize(arg)
{
	var local = Math.round(Math.ceil(arg)/10);
	
	//local = local / 10;
	local = local - 5;
	
	if(local < 0)
	{
		local = 0;
	}
	
	return local;
}

function CheckBoundories (model, width, height)
{
	switch(model)
	{
		case 0:
		if(width < 50 || height < 50 || width > 250 || height > 320)
		{
			alert(errMSG);
		}break;
		
		default:
		if(width < 50 || height < 50 || width > 400 || height > 400)
		{
			alert(errMSG);
		}break;
	}
}

function printFinalPrice()
{
	var sizeWidth = document.getElementById("sunblindWidth").value; 
	var sizeHeight = document.getElementById("sunblindHeight").value;
	var decorative = document.getElementById("dekorative").checked;
	//var discount = 6;	//precent discount
	
	CheckBoundories (modelCode, sizeWidth, sizeHeight);
	

	sizeWidth = findPrize(sizeWidth);
	sizeHeight = findPrize(sizeHeight);
	
	switch(modelCode)
	{
		case 0:
		totalPrice = vynshniLamelniC50[sizeHeight][sizeWidth];
		break;
		
		case 1:
		totalPrice = vynshniLamelniC80[sizeHeight][sizeWidth];
		break;
		
		case 2:
		totalPrice = vynshniLamelniZ90[sizeHeight][sizeWidth];
		break;
	}

	if(decorative == 1)
	{
		var w = document.getElementById("sunblindWidth").value;
		totalPrice += (w / 100 )* 54.9;
	}
	
	totalPrice -= totalPrice *  (6 /100);
	
	if (totalPrice == 0)
	{
		alert(errMSG);
	}
	else
	{
	document.getElementById("finalPrice").innerHTML = totalPrice.toFixed(2) + " лв.";
	}
	totalPrice = 0;
	return false;
}